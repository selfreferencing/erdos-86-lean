# ESC Phase 2-3 Prompts

## Prompt Allocation Table

| Prompt | Instances | Model | Focus |
|--------|-----------|-------|-------|
| 2.1 | 3 | GPT Pro Extended | Dangerous residue classes |
| 2.2 | 2 | GPT Pro Extended | Bridge identity |
| 2.3 | 2 | GPT Pro Extended | Why k > 5 needed |
| 3.1 | 1 | Gemini | Conceptual breakthrough |

**Total: 8 prompts**

---

## PROMPT 2.1: Map the Dangerous Residue Classes [Run 3 instances]

**Context**: For the Erdős-Straus Conjecture with primes p ≡ 1 (mod 4), we define:
- n_k = (p + 4k + 3)/4 for k = 0, 1, 2, 3, 4, 5
- m_k = 4k + 3, so m_k ∈ {3, 7, 11, 15, 19, 23}

**Type II fails at k** when G(n_k, m_k) = 0, where G counts coprime divisor pairs summing to 0 mod m_k.

**Known necessary conditions** for "dangerous" primes (Type II fails at all k ≤ 5):
- p ≡ 1 (mod 24)
- p is a quadratic residue mod each of {3, 5, 7, 11, 19, 23}

This gives 2970 residue classes mod L = 504,735.

**Your tasks**:

1. **Verify the 2970 count**: Using CRT, confirm that the intersection of:
   - p ≡ 1 (mod 3)
   - p ≡ 1 or 4 (mod 5)
   - p ≡ 1, 2, or 4 (mod 7)
   - p ≡ 1, 3, 4, 5, or 9 (mod 11)
   - p ≡ 1, 4, 5, 6, 7, 9, 11, 16, or 17 (mod 19)
   - p ≡ 1, 2, 3, 4, 6, 8, 9, 12, 13, 16, or 18 (mod 23)

   gives exactly 1 × 2 × 3 × 5 × 9 × 11 = 2970 classes mod 504,735.

2. **Enumerate explicitly**: List the first 100 residue classes (as integers mod 504,735) satisfying all conditions.

3. **Refine with p ≡ 1 (mod 8)**: The k=0 trap forces p ≡ 1 (mod 8). Combined with the above, how many classes remain mod 8L = 4,037,880?

4. **Further refinement**: The "multiple of 5" argument (from overnight findings) showed dangerous primes must have p ≡ 1 or 9 (mod 20). Does this further reduce the class count?

5. **Identify structure**: Among these dangerous classes, are there natural subfamilies based on which k is "closest to working" for Type II?

---

## PROMPT 2.2: Bridge Identity Analysis [Run 2 instances]

**The Bridge Identity**: For ESC with n_k = (p + 4k + 3)/4:

$$\gcd(n_k, kp+1) \mid (4k^2 + 3k - 1)$$

The constants factor as:
- k=1: 4k² + 3k - 1 = 6 = 2·3
- k=2: 21 = 3·7
- k=3: 44 = 2²·11
- k=4: 75 = 3·5²
- k=5: 114 = 2·3·19

**What this means**: If a small prime q divides both n_k and (4k² + 3k - 1), then q divides kp+1.

**Your tasks**:

1. **Prove the identity**: Derive gcd(n_k, kp+1) | (4k² + 3k - 1) from first principles.

2. **Forced factors from dangerous conditions**:
   - From k=0: n_0 ≡ 1 (mod 3), so n_5 = n_0 + 5 ≡ 0 (mod 3). Thus 3 | n_5.
   - Since 3 | 114, we get 3 | (5p+1) for all dangerous primes.
   - Find ALL such forced divisibility relations for k = 1, 2, 3, 4, 5.

3. **Type I implications**: For each k, Type I needs a divisor d of kp+1 with d ≡ -p (mod 4k).
   - List the forced prime factors of kp+1 coming from the bridge identity.
   - For each k, what subgroup of (Z/4kZ)* do these forced factors generate?

4. **Coverage analysis**: Given the forced factors, for which residue classes of p (mod 4k) does Type I automatically succeed at k?

5. **The key question**: Is there a combination of forced factors across k = 1, 2, 3, 4, 5 that guarantees Type I succeeds at SOME k for every dangerous prime?

---

## PROMPT 2.3: Why Do Some Primes Need k > 5? [Run 2 instances]

**Data**: The following primes have BOTH Type I and Type II fail for all k ≤ 5:

```
370561, 437809, 706729, 806521, 878089, 1155961, 1295809, 1731361,
2511721, 2812441, 2901361, 3005809, 3261241, 3669961, 3751801, 3830401, 3897721
```

Their first successful k values:
- k = 6: 806521, 1295809, 2511721, 2901361, 3751801, 3897721
- k = 7: 370561, 437809, 706729, 878089, 1155961, 1731361, 2812441, 3669961
- k = 8: 3005809
- k = 9: 3261241, 3830401

**Your tasks**:

1. **Compute residue patterns**: For each prime, compute:
   - p mod 504735
   - p mod 120 (= lcm(8, 3, 5))
   - p mod 31 (relevant for k=7 since m_7 = 31)

2. **Why does k ≤ 5 fail?**
   - For Type II: Verify that n_k is "QR-trapped" (all prime factors are QRs mod m_k) for k = 0,...,5
   - For Type I: Show that -p (mod 4k) is NOT in the multiplicative subgroup generated by prime factors of kp+1

3. **Why does k = 6, 7, 8, or 9 succeed?**
   - For Type II at k=7 (m=31): Which prime factor of n_7 is a non-residue mod 31?
   - For Type I when it works: What divisor d satisfies d ≡ -p (mod 4k)?

4. **Pattern identification**:
   - What do the k=7 primes have in common that the k=6 primes don't?
   - What makes k=9 primes (3261241, 3830401) especially hard?

5. **Residue class characterization**: Can you identify specific residue classes mod some M where k > 5 is required? Is this a finite, enumerable set?

---

## PROMPT 3.1: Conceptual Breakthrough [Run 1 instance on Gemini]

**The ESC Covering Problem**:

For primes p ≡ 1 (mod 4), the Erdős-Straus Conjecture reduces to showing that for some k ≥ 0, either:
- **Type I**: kp + 1 has a divisor d ≡ -p (mod 4k), OR
- **Type II**: The integer n_k = (p + 4k + 3)/4 has coprime divisors a, b with a + b ≡ 0 (mod 4k + 3)

**Computational fact**: For all p < 20,000,000, some k ≤ 10 works.

**The structure**:
1. Type II fails at k iff n_k is "QR-trapped" (all prime factors are quadratic residues mod m_k = 4k+3)
2. When Type II fails at all k ≤ 5, strong constraints are placed on p:
   - p ≡ 1 (mod 24)
   - p is a QR mod {3, 5, 7, 11, 19, 23}
3. These constraints also affect kp+1 via the bridge identity: gcd(n_k, kp+1) | (4k² + 3k - 1)

**The mystery**: Why can't a prime p satisfy ALL of:
- Type II fails at k = 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, ...
- Type I fails at k = 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, ...

**Your task**: Find the conceptual reason.

Possible angles:
1. **Density/growth**: The QR-trapped condition becomes increasingly unlikely as k grows because m_k grows and n_k has more potential prime factors.

2. **Interference**: The constraints that make Type II fail might force structure into kp+1 that makes Type I succeed.

3. **Covering systems**: The dangerous residue classes form a finite set, and for each class, some k must work by finite group theory in (Z/4kZ)*.

4. **Character sums**: Is there a character-theoretic argument showing that the "bad" characters can't all align?

**Deliverable**: A conceptual explanation (not necessarily a full proof) of WHY the combined Type I + Type II strategy must eventually succeed. What is the fundamental obstruction to having both methods fail for all k?

---

## Notes for Running

- **GPT Pro Extended**: Use extended thinking mode if available. These are complex number-theoretic problems.
- **Gemini**: Prompt 3.1 is asking for a conceptual leap, so Gemini's broad reasoning may help.
- **Expect**: Some prompts may return partial results. That's fine—we're looking for insights, not complete proofs.

---

## After These Complete

Return the results to Claude for synthesis. Phase 1 (criterion verification and canonical data generation) will be ready, and we can then proceed to Phase 3.2 (the actual covering proof).
