# TASK: Write Lean 4 Code for k=0 Exact Characterization

## Context

For the Erdős-Straus conjecture on Mordell-hard primes:
- k=0 means m₀ = 3
- x₀ = (p + 3) / 4 = r (where r = (p+3)/4)
- For Mordell-hard primes, p ≡ 1 (mod 3), so x₀ ≡ 1 (mod 3)
- Target residue is -x₀ ≡ 2 (mod 3)

## The Exact Characterization

**Theorem:** For Mordell-hard prime p, k=0 provides a Type II witness if and only if x₀ has a prime factor q ≡ 2 (mod 3).

**Equivalently:** k=0 fails ⟺ all prime factors of x₀ are ≡ 1 (mod 3).

**Proof idea:**
- Divisors of x₀² have residues in the subgroup generated by prime factors' residues mod 3
- (Z/3Z)* = {1, 2} is cyclic of order 2
- Residue 2 is reachable iff some prime factor is ≡ 2 (mod 3)

## Your Task

Write Lean 4 code that proves:

```lean
/-- A number whose prime factors are all ≡ 1 (mod 3) has all divisors ≡ 1 (mod 3) -/
lemma divisors_mod3_of_primes_mod3 (n : ℕ) (hn : 0 < n)
    (h : ∀ p, Nat.Prime p → p ∣ n → p % 3 = 1) :
    ∀ d, d ∣ n^2 → d % 3 = 1 := by
  sorry

/-- If n has a prime factor ≡ 2 (mod 3), then n² has a divisor ≡ 2 (mod 3) -/
lemma exists_divisor_mod3_2 (n : ℕ) (hn : 0 < n)
    (h : ∃ p, Nat.Prime p ∧ p ∣ n ∧ p % 3 = 2) :
    ∃ d, d ∣ n^2 ∧ d % 3 = 2 := by
  sorry

/-- k=0 Type II witness exists iff x₀ has a prime factor ≡ 2 (mod 3) -/
theorem k0_witness_iff (x₀ : ℕ) (hx : 0 < x₀) (hx_mod : x₀ % 3 = 1) :
    (∃ d, d ∣ x₀^2 ∧ d ≤ x₀ ∧ (x₀ + d) % 3 = 0) ↔
    (∃ p, Nat.Prime p ∧ p ∣ x₀ ∧ p % 3 = 2) := by
  sorry
```

## Key Insight

The condition (x₀ + d) % 3 = 0 is equivalent to d ≡ -x₀ ≡ 2 (mod 3) when x₀ ≡ 1 (mod 3).

## Imports

```lean
import Mathlib.Data.Nat.Prime.Basic
import Mathlib.Data.Nat.Factorization.Basic
import Mathlib.NumberTheory.Divisors
import Mathlib.Tactic
```

## Output Format

Provide complete, compilable Lean 4 code with:
- All necessary imports
- Complete proofs (no `sorry`)
- Helper lemmas as needed
